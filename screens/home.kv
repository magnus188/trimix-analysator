#:kivy 2.0.0

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        # Navigation bar
        NavBar:
            title: 'Trimix Analyzer'
            show_left_button: False
            show_right_button: True
            right_button_text: 'Power'
            right_button_callback: root.show_power_options

        # Content area with padding
        BoxLayout:
            orientation: 'vertical'
            padding: dp(20)
            spacing: dp(20)

            # GridLayout positioned at the top
            GridLayout:
                cols: 2
                rows: 2
                spacing: dp(15)
                padding: dp(10)
                size_hint: 1, None  # Set width to full, height fixed
                height: dp(400)  # Fixed height for the grid

                # Analyzer Card
                MenuCard:
                    id: analyzer_card
                    title: 'Analyzer'
                    on_press: root.navigate_to_screen('analyze')  # Navigate to 'analyze' screen

                # Sensor Detail Card
                MenuCard:
                    id: sensor_card
                    title: 'Sensor Detail'
                    on_press: root.navigate_to_screen('sensor_detail')  # Navigate to 'sensor_detail' screen

                # History Card (placeholder - goes to analyzer for now)
                MenuCard:
                    id: history_card
                    title: 'History'
                    on_press: root.navigate_to_screen('analyze')  # Placeholder: Navigate to 'analyze' screen

                # Settings Card
                MenuCard:
                    id: settings_card
                    title: 'Settings'
                    on_press: root.navigate_to_screen('settings')  # Navigate to 'settings' screen

            # Empty widget to fill remaining space and push grid to top
            Widget:
